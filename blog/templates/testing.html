<!DOCTYPE html>
{% load static %}
<html lang="en">
  <head>
    <title>Blog</title>
    {% load bootstrap5 %} {% bootstrap_css %} {% bootstrap_javascript %}
    <link rel="stylesheet" href="{% static 'css/styles.css' %}" />
  </head>
  <body>
    <div class="container mt-5">
      <h1 class="text-center">My Blog</h1>

      <div class="row">
        {% for post in posts %} {% if forloop.counter0|divisibleby:3 %}
      </div>
      <div class="row">
        {% endif %}
        <div class="col-md-4">
          <div class="card mb-4">
            <!-- Category, Title, and Date -->
            <div class="card-body p-3">
              <span class="badge bg-primary">{{ post.category }}</span>
              <h5 class="card-title mt-2">
                <a
                  href="{% url 'post_detail' post.id %}"
                  class="text-dark text-decoration-none"
                  >{{ post.title }}</a
                >
              </h5>
              <p class="text-muted">
                <p>Published on: {{ post.created_at|date:"F d, Y" }}</p>
              </p>
            </div>

            <!-- Post Image -->
            {% if post.image %}
            <img
              src="{{ post.image.url }}"
              class="card-img-top"
              alt="{{ post.title }}"
            />
            {% else %}
            <img
              src="{% static 'images/default.jpg' %}"
              class="card-img-top"
              alt="Default Image"
            />
            {% endif %}
          </div>
        </div>
        {% endfor %}
      </div>
    </div>
  </body>
</html>
